{"version":3,"sources":["Auth.js","components/Home.js","components/Header.js","components/Register.js","components/Profile.js","components/Login.js","components/CreatePost.js","assets/add-photo.png","components/ViewPost.js","components/EditPost.js","App.js","reportWebVitals.js","index.js"],"names":["Auth","login","user","localStorage","setItem","JSON","stringify","axios","defaults","headers","common","token","init","parse","getItem","Home","props","fetchPosts","get","then","res","setState","posts","data","error","isLoading","catch","err","response","message","like","postId","a","put","unlike","onLikeClick","post","liked","likes","length","forEach","author","_id","likestatus","renderLike","onClick","className","icon","to","state","this","map","src","photo","alt","title","caption","React","Component","Header","logout","removeItem","history","push","href","withRouter","Register","onChange","e","target","name","value","onSubmit","preventDefault","email","password","confirmPass","renderError","type","Profile","deletePost","delete","username","Login","CreatePost","showFileUpload","fileUpload","current","click","onImageChange","files","photoUrl","URL","createObjectURL","selectedFile","FormData","append","createRef","ref","ViewPost","fetchPost","match","params","id","onChangeComment","comment","commentError","content","comments","renderCommentForm","userDetails","renderAction","renderComments","EditPost","authorId","library","add","faHeart","faTrash","faEdit","faUser","faPlus","faHome","faSignInAlt","faSignOutAlt","faUserPlus","App","exact","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.452c2df5.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst Auth = {\r\n    login: user => {\r\n        localStorage.setItem('user', JSON.stringify(user));\r\n        axios.defaults.headers.common['Authorization'] = user.token;\r\n    },\r\n    init: () => {\r\n        let user = JSON.parse(localStorage.getItem('user'));\r\n        axios.defaults.headers.common['Authorization'] = user !== null ? user.token : '';\r\n    }\r\n};\r\n\r\nexport default Auth;","import React from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nclass Home extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            posts: [],\r\n            isLoading: true,\r\n            error: ''\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.fetchPosts();\r\n    }\r\n\r\n    fetchPosts = () => {\r\n        axios.get('/api/posts')\r\n            .then(res => {\r\n                this.setState({\r\n                    posts: res.data,\r\n                    error: '',\r\n                    isLoading: false\r\n                });\r\n            })\r\n            .catch(err => {\r\n                this.setState({\r\n                    isLoading: false,\r\n                    error: err.response.data.message\r\n                });\r\n            });\r\n    }\r\n\r\n    like = async (postId) => {\r\n        await axios.put('/api/likes/like/' + postId)\r\n            .then(res => {\r\n                this.fetchPosts();\r\n            })\r\n            .catch(err => {\r\n                this.setState({\r\n                    error: err.response.data.message\r\n                });\r\n            })\r\n    }\r\n\r\n    unlike = async (postId) => {\r\n        await axios.put('/api/likes/unlike/' + postId)\r\n            .then(res => {\r\n                this.fetchPosts();\r\n            })\r\n            .catch(err => {\r\n                this.setState({\r\n                    error: err.response.data.message\r\n                });\r\n            })\r\n    }\r\n\r\n    onLikeClick = (post) => {\r\n        let liked = true;\r\n        if (!post.likes.length) {\r\n            this.like(post._id);\r\n\r\n        } else {\r\n            post.likes.forEach(like => {\r\n                if (like.author._id === JSON.parse(localStorage.getItem('user'))._id) {\r\n                    this.unlike(post._id);\r\n                    liked = false;\r\n                }\r\n            });\r\n            if (liked) {\r\n                this.like(post._id);\r\n            }\r\n        }\r\n    }\r\n\r\n    liked = (post) => {\r\n        let likestatus = true;\r\n        if (!post.likes.length) {\r\n            return likestatus;\r\n\r\n        } else {\r\n            post.likes.forEach(like => {\r\n                if (like.author._id === JSON.parse(localStorage.getItem('user'))._id) {\r\n                    likestatus = false;\r\n                    return likestatus;\r\n                }\r\n            });\r\n            if (likestatus) {\r\n                return likestatus;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    renderLike = (post) => {\r\n        if (!localStorage.getItem('user')) {\r\n            return (<Link to={\"/login\"}>\r\n                <button className='unlike'>\r\n                    <span className=\"like-num\">{post.likes.length}</span>\r\n                    <FontAwesomeIcon icon=\"heart\" className=\"heart\" />\r\n                </button>\r\n            </Link>)\r\n        } else {\r\n            return (\r\n                <div>\r\n                    <button onClick={() => this.onLikeClick(post)} className={`unlike ${this.liked(post) ? '' : 'like'}`}>\r\n                        <span className=\"like-num\">{post.likes.length}</span>\r\n                        <FontAwesomeIcon icon=\"heart\" className=\"heart\" />\r\n                    </button>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if (this.state.isLoading) {\r\n            return (<h4>الرجاء الإنتظار</h4>)\r\n        }\r\n        if (this.state.error) {\r\n            return (<blockquote>{this.state.error}</blockquote>)\r\n        }\r\n        if (this.state.posts.length < 1) {\r\n            return (<h4>لا يوجد صور لعرضها</h4>);\r\n        }\r\n        return (\r\n            <div>\r\n                <h4>المنشورات</h4>\r\n                <div className=\"posts\">\r\n                    {this.state.posts.map(post => {\r\n                        return (\r\n                            <div className=\"container\" key={post._id}>\r\n                                <div className=\"card\">\r\n                                    <Link to={\"/post/view/\" + post._id}>\r\n                                        <img src={`uploads/${post.photo}`} alt=\"\" />\r\n                                    </Link>\r\n                                    <div className=\"details\">\r\n                                        <h4 className=\"cut-text\"><b>{post.title}</b></h4>\r\n                                        <p className=\"cut-text\">{post.caption}</p>\r\n                                        {this.renderLike(post)}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    })}\r\n                </div>\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nexport default Home;","import axios from 'axios';\r\nimport React from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { withRouter, Link } from 'react-router-dom';\r\n\r\nclass Header extends React.Component {\r\n    logout = () => {\r\n        localStorage.removeItem('user');\r\n        localStorage.removeItem('_id');\r\n        axios.defaults.headers.common = { 'Authorization': '' };\r\n        this.props.history.push('/');\r\n    }\r\n    render() {\r\n        if (localStorage.getItem('user')) {\r\n            return (\r\n                <div className=\"navbar\">\r\n                    <ul>\r\n                        <li><Link to=\"/profile\">\r\n                            <FontAwesomeIcon icon=\"user\" className=\"header-icon\" />\r\n                            <span className=\"header-item\">الصفحة الشخصية</span>\r\n                        </Link></li>\r\n                        <li><Link to=\"/new/post\">\r\n                            <FontAwesomeIcon icon=\"plus\" className=\"header-icon\" />\r\n                            <span className=\"header-item\">إضافة صورة</span>\r\n                        </Link></li>\r\n                        <li><Link to=\"/\">\r\n                            <FontAwesomeIcon icon=\"home\" className=\"header-icon\" />\r\n                            <span className=\"header-item\">الرئيسة</span>\r\n                        </Link></li>\r\n                        <li>\r\n                            <ul>\r\n                                <li><a href=\"#logout\" onClick={this.logout}>\r\n                                    <FontAwesomeIcon icon=\"sign-out-alt\" className=\"header-icon\" />\r\n                                    <span className=\"header-item\">تسجيل الخروج</span>\r\n                                </a></li>\r\n                            </ul>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n            );\r\n        }\r\n        return (\r\n            <div className=\"navbar\">\r\n                <ul>\r\n                    <li><Link to=\"/profile\">\r\n                        <FontAwesomeIcon icon=\"user\" className=\"header-icon\" />\r\n                        <span className=\"header-item\">الصفحة الشخصية</span>\r\n                    </Link></li>\r\n                    <li><Link to=\"/new/post\">\r\n                        <FontAwesomeIcon icon=\"plus\" className=\"header-icon\" />\r\n                        <span className=\"header-item\">إضافة صورة</span>\r\n                    </Link></li>\r\n                    <li><Link to=\"/\">\r\n\r\n                        <FontAwesomeIcon icon=\"home\" className=\"header-icon\" />\r\n                        <span className=\"header-item\">الرئيسة</span>\r\n                    </Link></li>\r\n                    <li>\r\n                        <ul>\r\n                            <li><Link to=\"/register\">\r\n\r\n                                <FontAwesomeIcon icon=\"user-plus\" className=\"header-icon\" />\r\n                                <span className=\"header-item\">إنشاء حساب جديد</span>\r\n                            </Link></li>\r\n                            <li><Link to=\"/login\">\r\n\r\n                                <FontAwesomeIcon icon=\"sign-in-alt\" className=\"header-icon\" />\r\n                                <span className=\"header-item\">تسجيل دخول</span>\r\n                            </Link></li>\r\n                        </ul>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(Header);","import React from 'react';\r\nimport axios from 'axios';\r\nimport Auth from '../Auth';\r\n\r\nclass Register extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        if (localStorage.getItem('user')) {\r\n            this.props.history.push('/');\r\n        }\r\n        this.state = {\r\n            name: '',\r\n            email: '',\r\n            password: '',\r\n            confirmPass: '',\r\n            error: ''\r\n        };\r\n    }\r\n\r\n    onChange = e => this.setState({\r\n        [e.target.name]: e.target.value, error: null\r\n    });\r\n\r\n    onSubmit = e => {\r\n        e.preventDefault();\r\n        let data = {\r\n            name: this.state.name, email: this.state.email, password: this.state.password, confirmPass: this.state.confirmPass\r\n        };\r\n        axios.post('/api/auth/register', data)\r\n            .then(res => {\r\n                Auth.login(res.data);\r\n                this.props.history.push('/');\r\n            })\r\n            .catch(err => {\r\n                this.setState({\r\n                    error: err.response.data.message\r\n                });\r\n            });\r\n    }\r\n\r\n    renderError = () => {\r\n        return this.state.error ? (<blockquote>{this.state.error}</blockquote>) : \"\";\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container container-form\">\r\n                <h4>إنشاء حساب جديد</h4>\r\n                <hr />\r\n                {this.renderError()}\r\n                <form onSubmit={this.onSubmit} >\r\n                    <label>الأسم</label>\r\n                    <input type=\"text\" value={this.state.name} name=\"name\" onChange={this.onChange} />\r\n                    <label>البريد الألكتروني</label>\r\n                    <input type=\"email\" value={this.state.email} name=\"email\" onChange={this.onChange} />\r\n                    <label>كلمة السر</label>\r\n                    <input type=\"password\" value={this.state.password} name=\"password\" onChange={this.onChange} />\r\n                    <label>تأكيد كلمة السر</label>\r\n                    <input type=\"password\" value={this.state.confirmPass} name=\"confirmPass\" onChange={this.onChange} />\r\n                    <input type=\"submit\" value=\"التسجيل\" />\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Register;","import React from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nclass Profile extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        if (!localStorage.getItem('user')) {\r\n            this.props.history.push('/login');\r\n        }\r\n        this.state = {\r\n            posts: [],\r\n            username: '',\r\n            isLoading: true,\r\n            error: ''\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.fetchPosts();\r\n    }\r\n\r\n    fetchPosts = () => {\r\n        axios.get('/api/posts')\r\n            .then(res => {\r\n                let posts = []\r\n                res.data.map(post => {\r\n                    if (localStorage.getItem('user') && post.author._id === JSON.parse(localStorage.getItem('user'))._id) {\r\n                        posts.push(post);\r\n                    }\r\n                });\r\n                this.setState({\r\n                    posts: posts,\r\n                    error: '',\r\n                    isLoading: false\r\n                });\r\n            })\r\n            .catch(err => {\r\n                this.setState({\r\n                    isLoading: false,\r\n                    error: err.response.data.message\r\n                });\r\n            });\r\n    }\r\n\r\n    like = async (postId) => {\r\n        await axios.put('/api/likes/like/' + postId)\r\n            .then(res => {\r\n                this.fetchPosts();\r\n            })\r\n            .catch(err => {\r\n                this.setState({\r\n                    error: err.response.data.message\r\n                });\r\n            })\r\n    }\r\n\r\n    unlike = async (postId) => {\r\n        await axios.put('/api/likes/unlike/' + postId)\r\n            .then(res => {\r\n                this.fetchPosts();\r\n            })\r\n            .catch(err => {\r\n                this.setState({\r\n                    error: err.response.data.message\r\n                });\r\n            })\r\n    }\r\n\r\n    onLikeClick = (post) => {\r\n        let liked = true;\r\n        if (!post.likes.length) {\r\n            this.like(post._id);\r\n\r\n        } else {\r\n            post.likes.forEach(like => {\r\n                if (like.author._id === JSON.parse(localStorage.getItem('user'))._id) {\r\n                    this.unlike(post._id);\r\n                    liked = false;\r\n                }\r\n            });\r\n            if (liked) {\r\n                this.like(post._id);\r\n            }\r\n        }\r\n    }\r\n\r\n    liked = (post) => {\r\n        let likestatus = true;\r\n        if (!post.likes.length) {\r\n            return likestatus;\r\n\r\n        } else {\r\n            post.likes.forEach(like => {\r\n                if (like.author._id === JSON.parse(localStorage.getItem('user'))._id) {\r\n                    likestatus = false;\r\n                    return likestatus;\r\n                }\r\n            });\r\n            if (likestatus) {\r\n                return likestatus;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    renderLike = (post) => {\r\n        return (\r\n            <div>\r\n                <button onClick={() => this.onLikeClick(post)} className={`unlike ${this.liked(post) ? '' : 'like'}`}>\r\n                    <span className=\"like-num\">{post.likes.length}</span>\r\n                    <FontAwesomeIcon icon=\"heart\" className=\"heart\" />\r\n                </button>\r\n            </div>\r\n        )\r\n\r\n    }\r\n\r\n    deletePost = (postId) => {\r\n        axios.delete('/api/posts/' + postId)\r\n            .then(res => {\r\n                this.fetchPosts();\r\n            })\r\n            .catch(err => {\r\n                this.setState({\r\n                    error: err.response.data.message,\r\n                });\r\n            });\r\n    }\r\n\r\n    render() {\r\n        if (this.state.isLoading) {\r\n            return (<h4>الرجاء الإنتظار</h4>)\r\n        }\r\n        if (this.state.error) {\r\n            return (<blockquote>{this.state.error}</blockquote>)\r\n        }\r\n        if (this.state.posts.length < 1) {\r\n            return (\r\n                <div>\r\n                    <h4>الصفحة الشخصية</h4>\r\n                    <hr />\r\n                    <h5>لم تقم بنشر أي صور بعد</h5>\r\n                </div>\r\n            )\r\n        }\r\n        return (\r\n            <div>\r\n                <h4>الصفحة الشخصية</h4>\r\n                <hr />\r\n                <div className=\"posts\">\r\n                    {this.state.posts.map(post => {\r\n                        return (\r\n                            <div className=\"container\" key={post._id}>\r\n                                <div className=\"card\">\r\n                                    <Link to={\"/post/view/\" + post._id}>\r\n                                        <img src={`uploads/${post.photo}`} alt=\"\" />\r\n                                    </Link>\r\n                                    <div className=\"details\">\r\n                                        <h4 className=\"cut-text\"><b>{post.title}</b></h4>\r\n                                        <p className=\"cut-text\">{post.caption}</p>\r\n                                        {this.renderLike(post)}\r\n                                        <span className=\"delete-edit\">\r\n                                            <Link to={'/post/edit/' + post._id}>\r\n                                                <FontAwesomeIcon icon=\"edit\" className=\"edit-icon\" />\r\n                                            </Link>\r\n                                            <FontAwesomeIcon icon=\"trash\" className=\"delete-icon\" onClick={() => this.deletePost(post._id)} />\r\n                                        </span>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        )\r\n\r\n                    })}\r\n\r\n\r\n\r\n                </div>\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nexport default Profile;","import React from 'react';\r\nimport axios from 'axios';\r\nimport Auth from '../Auth';\r\n\r\nclass Login extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        if(localStorage.getItem('user')){\r\n            this.props.history.push('/'); \r\n        }\r\n        this.state = {\r\n            email: '',\r\n            password: '',\r\n            error: ''\r\n        };\r\n    }\r\n\r\n    onChange = e => this.setState({\r\n        [e.target.name]: e.target.value, error: null\r\n    });\r\n\r\n    onSubmit = e => {\r\n        e.preventDefault();\r\n        let data = { email: this.state.email, password: this.state.password };\r\n        axios.post('/api/auth/login', data)\r\n            .then(res => {\r\n                Auth.login(res.data);\r\n                this.props.history.push('/');\r\n            })\r\n            .catch(err => {\r\n                this.setState({\r\n                    error: err.response.data.message\r\n                });\r\n            });\r\n    }\r\n\r\n    renderError = () => {\r\n        return this.state.error ? (<blockquote>{this.state.error}</blockquote>) : \"\";\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container container-form\">\r\n                <h4>تسجيل دخول</h4>\r\n                <hr />\r\n                {this.renderError()}\r\n                <form onSubmit={this.onSubmit} >\r\n                    <label>البريد الألكتروني</label>\r\n                    <input type=\"email\" value={this.state.email} name=\"email\" onChange={this.onChange} />\r\n                    <label>كلمة السر</label>\r\n                    <input type=\"password\" value={this.state.password} name=\"password\" onChange={this.onChange} />\r\n                    <input type=\"submit\" value=\"دخول\" />\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Login;","import React from 'react';\r\nimport axios from 'axios';\r\nimport addPhoto from '../assets/add-photo.png';\r\n\r\nclass CreatePost extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        if (!localStorage.getItem('user')) {\r\n            this.props.history.push('/login');\r\n        }\r\n        this.state = {\r\n            selectedFile: null,\r\n            photoUrl: '',\r\n            title: '',\r\n            caption: '',\r\n            error: ''\r\n        };\r\n        this.fileUpload = React.createRef();\r\n    }\r\n\r\n    onChange = e => this.setState({\r\n        [e.target.name]: e.target.value, error: null\r\n    });\r\n\r\n    showFileUpload = e => this.fileUpload.current.click();\r\n\r\n    onImageChange = e => {\r\n        if (e.target.files[0]) {\r\n            this.setState({\r\n                photoUrl: URL.createObjectURL(e.target.files[0]),\r\n                selectedFile: e.target.files[0]\r\n            });\r\n        }\r\n    }\r\n\r\n    onSubmit = e => {\r\n        e.preventDefault();\r\n        const data = new FormData();\r\n        data.append('title', this.state.title);\r\n        data.append('caption', this.state.caption);\r\n        if (this.state.selectedFile) data.append('photo', this.state.selectedFile)\r\n        axios.post('/api/posts', data)\r\n            .then(res => {\r\n                this.props.history.push('/');\r\n            })\r\n            .catch(err => {\r\n                this.setState({\r\n                    error: err.response.data.message\r\n                });\r\n            });\r\n    }\r\n\r\n    renderError = () => {\r\n        return this.state.error ? (<blockquote>{this.state.error}</blockquote>) : \"\";\r\n    }\r\n\r\n    src = () => {\r\n        if (this.state.selectedFile) {\r\n            return this.state.photoUrl;\r\n        } else {\r\n            return addPhoto;\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container container-form\">\r\n                <h4>إضافة صورة جديدة</h4>\r\n                <hr />\r\n                {this.renderError()}\r\n                <form onSubmit={this.onSubmit} >\r\n                    <div onClick={this.showFileUpload}>\r\n                        <img src={this.src()} className=\"photo\" alt=\"\" />\r\n                    </div>\r\n                    <input type=\"file\" ref={this.fileUpload} onChange={this.onImageChange} className=\"d-none\" />\r\n                    <label>العنوان</label>\r\n                    <input type=\"text\" value={this.state.title} name=\"title\" onChange={this.onChange} />\r\n                    <label>الوصف</label>\r\n                    <textarea value={this.state.caption} name=\"caption\" onChange={this.onChange} ></textarea>\r\n                    <input type=\"submit\" value=\"إضافة الصورة\" />\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default CreatePost;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAtAAAALQCAYAAAC5V0ecAAAeOElEQVR42u3deZAmd33f8U93P88z52p2dnSxEqxMAHFYsgAhQwpwAjHGAQtCYsDgBDCWZcAB4+CyhaviigthUiYBQeJUYSGKqwIK92Gk4jIIwmVZASQgQsLCEiBpd2dmj5mdmefp7vzxzC4rC7S7Itqd4/WqGk3pGNXOd+bpfnf3r/sp5ufn2wAAAEelNAIAABDQAAAgoAEAQEADAICABgAAAQ0AAALaCAAAQEADAICABgAAAQ0AAAIaAAAENAAACGgjAAAAAQ0AAAIaAAAENAAACGgAABDQAAAgoI0AAAAENAAACGgAABDQAAAgoAEAQEADAICANgIAABDQAAAgoAEAQEADAICABgAAAQ0AAALaCAAAQEADAICABgAAAQ0AAAIaAAAENAAACGgjAAAAAQ0AAAIaAAAENAAACGgAABDQAAAgoI0AAAAENAAACGgAABDQAAAgoAEAQEADAICANgIAABDQAAAgoAEAQEADAICABgAAAQ0AAALaCAAAQEADAICABgAAAQ0AAAIaAAAENAAACGgjAAAAAQ0AAAIaAAAENAAACGgAABDQAAAgoI0AAAAENAAACGgAABDQAAAgoAEAQEADAICANgIAABDQAAAgoAEAQEADAICABgAAAQ0AAALaCAAAQEADAICABgAAAQ0AAAIaAAAENAAACGgjAAAAAQ0AAAIaAAAENAAACGgAABDQAAAgoI0AAAAENAAACGgAABDQAAAgoAEAQEADAICANgIAABDQAAAgoAEAQEADAICABgAAAQ0AAALaCAAAQEADAICABgAAAQ0AAAIaAAAENAAACGgjAAAAAQ0AAAIaAAAENAAACGgAABDQAAAgoI0AAAAENAAACGgAABDQAAAgoAEAQEADAICANgIAABDQAAAgoAEAQEADAICABgAAAQ0AAALaCAAAQEADAICABgAAAQ0AAAIaAAAENAAACGgjAAAAAQ0AAAIaAAAENAAACGgAABDQAAAgoI0AAAAENAAACGgAABDQAAAgoAEAQEADAICANgIAABDQAAAgoAEAQEADAICABgAAAQ0AAALaCAAAQEADAICABgAAAQ0AAAIaAAAENAAACGgjAAAAAQ0AAAIaAAAENAAACGgAABDQAAAgoI0AAAAENAAACGgAABDQ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ABDQAAAgoAEAQEADAICABgAAAW0EAAAgoAEAQEADAICABgAAAQ0AAAIaAAAEtBEAAICABgAAAQ0AAAIaAAAENAAACGgAABDQRgAAAAIaAAAENAAACGgAABDQAAAgoAEAQEAbAQAACGgAABDQAAAgoAEAQEADAICABgAAAW0EAAAgoAEAQEADAICABgAAAQ0AAAIaAAAEtBEAAICABgAAAQ0AAAIaAAAENAAACGgAABDQRgAAAAIaAAAENAAACGgAABDQAAAgoAEAQEAbAQAACGgAABDQAAAgoAEAQEADAICABgAAAW0EAAAgoAEAQEADAICABgAAAQ0AAAIaAAAEtBEAAICABgAAAQ0AAAIaAAAENAAACGgAABDQRgAAAAIaAAAENAAACGgAABDQAAAgoAEAQEAbAQAACGgAABDQAAAgoAEAQEADAICABgAAAW0EAAAgoAEAQEADAICABgAAAQ0AAAIaAAAEtBEAAICABgAAAQ0AAAIaAAAENAAACGgAABDQRgAAAAIaAAAENAAACGgAABDQAAAgoAEAQEAbAQAACGgAABDQAAAgoAEAQEADAICABgAAAW0EAAAgoAEAQEADAICABgAAAQ0AAAIaAAAEtBEAAICABgAAAQ0AAAIaAAAENAAACGgAABDQRgAAAAIaAAAENAAACGgAABDQAAAgoAEAQEAbAQAACGgAABDQAAAgoAEAQEADAICABgAAAW0EAAAgoAEAQEADAICABgAAAQ0AAAIaAAA2vf8H/RyLrTSSBYIAAAAASUVORK5CYII=\"","import React from 'react';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass ViewPost extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            post: {},\r\n            comment: '',\r\n            commentError: '',\r\n            error: ''\r\n        }\r\n    }\r\n\r\n\r\n\r\n    componentDidMount() {\r\n        this.fetchPost();\r\n    }\r\n\r\n    fetchPost = () => {\r\n        let postId = this.props.match.params.id;\r\n        axios.get('/api/posts/' + postId)\r\n            .then(res => {\r\n                this.setState({\r\n                    post: res.data,\r\n                    error: ''\r\n                });\r\n            })\r\n            .catch(err => {\r\n                this.setState({\r\n                    error: err.response.data.message\r\n                })\r\n            });\r\n    }\r\n\r\n    onChangeComment = (e) => {\r\n        this.setState({\r\n            comment: e.target.value,\r\n            commentError: ''\r\n        });\r\n    }\r\n    onSubmit = (e) => {\r\n        e.preventDefault();\r\n        let data = {\r\n            content: this.state.comment\r\n        };\r\n        axios.post('/api/comments/' + this.props.match.params.id, data)\r\n            .then(res => {\r\n                let post = this.state.post;\r\n                post.comments.push({\r\n                    _id: res.data._id,\r\n                    content: res.data.content,\r\n                    author: {\r\n                        _id: JSON.parse(localStorage.getItem('user'))._id\r\n                    }\r\n                });\r\n                this.setState({\r\n                    post: post,\r\n                    commentError: '',\r\n                    comment: ''\r\n                })\r\n                this.fetchPost();\r\n            })\r\n            .catch(err => {\r\n                this.setState({\r\n                    commentError: <blockquote>{err.response.data.message}</blockquote>\r\n                });\r\n            });\r\n    }\r\n\r\n    deletePost = () => {\r\n        axios.delete('/api/posts/' + this.state.post._id)\r\n            .then(res => {\r\n                this.props.history.push('/');\r\n            })\r\n            .catch(err => {\r\n                this.setState({\r\n                    error: err.response.data.message,\r\n                });\r\n            });\r\n    }\r\n\r\n    renderAction() {\r\n        if (localStorage.getItem('user')) {\r\n            let userDetails = JSON.parse(localStorage.getItem('user'));\r\n            if (userDetails.token && userDetails._id === this.state.post.author._id) {\r\n                return (\r\n                    <span>\r\n                        <Link to={'/post/edit/' + this.state.post._id}>\r\n                            <button className='edit'>تعديل</button>\r\n                        </Link>\r\n                        <button className='delete' onClick={this.deletePost}>حذف</button>\r\n                    </span>\r\n                );\r\n            }\r\n        }\r\n    }\r\n\r\n    renderComments() {\r\n        let comments = <p>لا يوجد تعليقات</p>\r\n        if (this.state.post.comments.length) {\r\n            comments = this.state.post.comments.map(comment => {\r\n                return (\r\n                    <p key={comment._id} className=\"comment\">\r\n                        <strong className='comment-author'>{comment.author.name}</strong>\r\n                        {comment.content}\r\n                    </p>\r\n                )\r\n            });\r\n        }\r\n        return comments;\r\n    }\r\n\r\n    renderCommentForm = () => {\r\n        if (!localStorage.getItem('user')) {\r\n            return (<p>الرجاء تسجيل الدخول للتعليق على هذه الصورة</p>)\r\n        }\r\n        return (\r\n            <div>\r\n                <h4>إضافة تعليق</h4>\r\n                {this.state.commentError}\r\n                <form onSubmit={this.onSubmit}>\r\n                    <textarea value={this.state.comment} onChange={this.onChangeComment}></textarea>\r\n                    <input type=\"submit\" value=\"إضافة التعليق\" />\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        if (this.state.error) {\r\n            return (<blockquote>{this.state.error}</blockquote>)\r\n        }\r\n        if (!this.state.post.title) {\r\n            return (<h4>الرجاء الأنتظار</h4>)\r\n        }\r\n        return (\r\n            <div className=\"container\">\r\n                <h4><b>{this.state.post.title}</b></h4>\r\n                <img src={`/uploads/${this.state.post.photo}`} alt=\"\" className=\"show-photo\" />\r\n                <div className=\"details\">\r\n                    <p>{this.state.post.caption}</p>\r\n                    {this.renderAction()}\r\n                    <hr />\r\n                    <h4>التعليقات<span className=\"comment-num\">({this.state.post.comments.length})</span></h4>\r\n                    {this.renderComments()}\r\n                    {this.renderCommentForm()}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default ViewPost;","import React from 'react';\r\nimport axios from 'axios';\r\n\r\nclass EditPost extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        if (!localStorage.getItem('user')) {\r\n            this.props.history.push('/login');\r\n        }\r\n        this.state = {\r\n            selectedFile: null,\r\n            photoUrl: '',\r\n            title: '',\r\n            caption: '',\r\n            authorId: '',\r\n            isLoading: true,\r\n            error: ''\r\n        };\r\n        this.fileUpload = React.createRef();\r\n    }\r\n\r\n    componentDidMount() {\r\n        axios.get('/api/posts/' + this.props.match.params.id)\r\n            .then(res => {\r\n                this.setState(\r\n                    {\r\n                        photoUrl: res.data.photo,\r\n                        title: res.data.title,\r\n                        caption: res.data.caption,\r\n                        authorId: res.data.author._id,\r\n                        isLoading: false\r\n                    }\r\n                );\r\n            })\r\n            .catch(err => {\r\n                this.setState({\r\n                    error: err.response.data.message\r\n                })\r\n            });\r\n    }\r\n\r\n    onChange = e => this.setState({\r\n        [e.target.name]: e.target.value, error: null\r\n    });\r\n\r\n    showFileUpload = e => this.fileUpload.current.click();\r\n\r\n    onImageChange = e => {\r\n        if (e.target.files[0]) {\r\n            this.setState({\r\n                photoUrl: URL.createObjectURL(e.target.files[0]),\r\n                selectedFile: e.target.files[0]\r\n            });\r\n        }\r\n    }\r\n\r\n    onSubmit = e => {\r\n        e.preventDefault();\r\n        const data = new FormData();\r\n        data.append('title', this.state.title);\r\n        data.append('caption', this.state.caption);\r\n        if (this.state.selectedFile) data.append('photo', this.state.selectedFile)\r\n        axios.put('/api/posts/' + this.props.match.params.id, data)\r\n            .then(res => {\r\n                this.props.history.push('/');\r\n            })\r\n            .catch(err => {\r\n                this.setState({\r\n                    error: err.response.data.message\r\n                });\r\n            });\r\n    }\r\n\r\n    renderError = () => {\r\n        return this.state.error ? (<blockquote>{this.state.error}</blockquote>) : \"\";\r\n    }\r\n\r\n    src = () => {\r\n        if (this.state.selectedFile) {\r\n            return this.state.photoUrl;\r\n        } else {\r\n            return ( `/uploads/${this.state.photoUrl}`);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if (this.state.isLoading) {\r\n            return (<h4>الرجاء الإنتظار</h4>);\r\n        }\r\n        if (JSON.parse(localStorage.getItem('user'))._id !== this.state.authorId) {\r\n            return (\r\n                <div>\r\n                    <blockquote>خطأ 403</blockquote>\r\n                </div>\r\n            )\r\n        }\r\n        return (\r\n            <div className=\"container container-form\">\r\n                <h4>تعديل الصورة</h4>\r\n                <hr />\r\n                {this.renderError()}\r\n                <form onSubmit={this.onSubmit} >\r\n                    <div onClick={this.showFileUpload}>\r\n                        <img src={this.src()} className=\"photo\" alt=\"\" />\r\n                    </div>\r\n                    <input type=\"file\" ref={this.fileUpload} onChange={this.onImageChange} className=\"d-none\" />\r\n                    <label>العنوان</label>\r\n                    <input type=\"text\" value={this.state.title} name=\"title\" onChange={this.onChange} />\r\n                    <label>الوصف</label>\r\n                    <textarea value={this.state.caption} name=\"caption\" onChange={this.onChange} ></textarea>\r\n                    <input type=\"submit\" value=\"تعديل الصورة\" />\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default EditPost;","import React from 'react';\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { faHeart, faTrash, faEdit, faUser, faHome, faSignInAlt, faSignOutAlt, faUserPlus, faPlus} from '@fortawesome/free-solid-svg-icons';\nimport { Route, BrowserRouter as Router, Switch } from 'react-router-dom';\nimport './App.css';\nimport Auth from './Auth';\nimport { Header, Profile, Home, Register, Login, CreatePost, ViewPost, EditPost } from './components';\n\nlibrary.add( faHeart, faTrash, faEdit, faUser, faPlus, faHome, faSignInAlt, faSignOutAlt, faUserPlus)\n\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    Auth.init();\n  }\n  render() {\n    return (\n      <Router>\n        <div>\n          <Header></Header>\n          <div>\n            <div>\n              <Switch>\n                <Route exact path=\"/\" component={Home} />\n                <Route path=\"/profile\" component={Profile} />\n                <Route path=\"/new/post\" component={CreatePost}/>\n                <Route path=\"/register\" component={Register} />\n                <Route path=\"/login\" component={Login} />\n                <Route path=\"/post/view/:id\" component={ViewPost} />\n                <Route path=\"/post/edit/:id\" component={EditPost} />\n              </Switch>\n            </div>\n          </div>\n        </div>\n      </Router>\n    );\n  }\n\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}